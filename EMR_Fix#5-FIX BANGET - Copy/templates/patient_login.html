{% extends 'base_blank.html' %}
{% block title %}Login Pasien - Batam Sehat{% endblock %}

{% block form_title %}
    <i class="bi bi-person-heart text-success"></i> Login Pasien
{% endblock %}

{% block form_content %}
<div class="alert alert-success small">
    <i class="bi bi-info-circle-fill"></i> Halaman ini khusus untuk <strong>Pasien Terdaftar</strong>
</div>

<form method="POST" action="{{ url_for('patient_login') }}" id="patientLoginForm">
    <div class="form-floating mb-3">
        <input type="text" class="form-control" id="username" name="username" 
               placeholder="Username" required autocomplete="username">
        <label for="username"><i class="bi bi-person-circle"></i> Username</label>
    </div>
    
    <div class="form-floating mb-3">
        <input type="password" class="form-control" id="password" name="password" 
               placeholder="Password" required autocomplete="current-password">
        <label for="password"><i class="bi bi-lock-fill"></i> Password</label>
    </div>
    
    <!-- Security Info -->
    <div class="alert alert-info small mb-3">
        <i class="bi bi-shield-check"></i> <strong>Keamanan:</strong> Login Anda dilindungi dengan enkripsi tingkat tinggi.
    </div>
    
    <div class="d-grid">
        <button type="submit" class="btn btn-success btn-lg">
            <i class="bi bi-box-arrow-in-right"></i> Login Sekarang
        </button>
    </div>
</form>

<!-- Links -->
<div class="mt-4 text-center">
    <div class="row g-2">
        <div class="col-6">
            <a href="{{ url_for('register') }}" class="text-decoration-none">
                <i class="bi bi-person-plus-fill"></i> Daftar Baru
            </a>
        </div>
        <div class="col-6">
            <a href="{{ url_for('reset_password_request') }}" class="text-decoration-none">
                <i class="bi bi-key-fill"></i> Lupa Password?
            </a>
        </div>
        <div class="col-12 mt-3">
            <hr>
            <a href="{{ url_for('staff_login') }}" class="text-primary">
                <i class="bi bi-shield-lock-fill"></i> Login sebagai Staff
            </a>
        </div>
    </div>
</div>

<script>
// Auto-focus username field
document.getElementById('username').focus();

// Form validation
document.getElementById('patientLoginForm').addEventListener('submit', function(e) {
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value;
    
    if (username.length < 3) {
        e.preventDefault();
        alert('Username minimal 3 karakter!');
        return false;
    }
    
    if (password.length < 6) {
        e.preventDefault();
        alert('Password minimal 6 karakter!');
        return false;
    }
});
</script>

<style>
.form-floating > label {
    padding-left: 1rem;
}

.btn-success {
    background: linear-gradient(135deg, #56ab2f 0%, #a8e063 100%);
    border: none;
}

.btn-success:hover {
    background: linear-gradient(135deg, #a8e063 0%, #56ab2f 100%);
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(86, 171, 47, 0.4);
}
</style>
{% endblock %}